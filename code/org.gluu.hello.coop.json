{
	"nodes": [
		{
			"data": {
				"agamaData": {
					"isTopLevelFlow": true,
					"basepath": "",
					"configParams": "{\n  \"hello\": {\n    \"oauth\": {\n      \"authzEndpoint\": \"https://wallet.hello.coop/authorize\",\n      \"tokenEndpoint\": \"https://wallet.hello.coop/oauth/token\",\n      \"userInfoEndpoint\": \"https://wallet.hello.coop/oauth/userinfo\",\n      \"clientId\": \"CLIENT_INDENTIFIER\",\n      \"clientSecret\": \"CLIENT_SECRET\",\n      \"scopes\": [\n        \"openid\"\n      ]\n    },\n    \"uidPrefix\": \"hello-\"\n  }\n}",
					"creationDate": "16/10/2024",
					"nodeIcon": "material-symbols:line-start-square",
					"timeout": "",
					"inputs": "",
					"configs": "conf",
					"flowname": "org.gluu.hello.coop",
					"displayName": "hello.coop social login",
					"hasComment": true,
					"comment": "Agama Project to support Social Login from the Hello SaaS service"
				},
				"id": "startNode-75711b40-d005-4094-8de2-51c69f2e8fac",
				"type": "startNode",
				"position": {
					"x": 50,
					"y": 200
				}
			},
			"type": "startNode",
			"id": "startNode-75711b40-d005-4094-8de2-51c69f2e8fac",
			"position": {
				"x": 50,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "info",
					"hasComment": true,
					"comment": "",
					"logMessage": "\"hello-agama: flow initiated successfully\"",
					"logLevel": "info"
				},
				"id": "logNode-02632731-c36c-48ea-b162-a4f59db182c2",
				"type": "logNode",
				"position": {
					"x": 300,
					"y": 200
				},
				"previousNodeId": "startNode-75711b40-d005-4094-8de2-51c69f2e8fac"
			},
			"type": "logNode",
			"id": "logNode-02632731-c36c-48ea-b162-a4f59db182c2",
			"position": {
				"x": 300,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:equal",
					"displayName": "",
					"hasComment": true,
					"comment": "Assigned Hello SaaS OAuth  configurations",
					"assignments": [
						{
							"variableTypeCheck": false,
							"assignmentExpression": "conf.hello.oauth",
							"assignedVariableName": "oauthParams"
						},
						{
							"variableTypeCheck": false,
							"assignmentExpression": "conf.hello.uidPrefix",
							"assignedVariableName": "uidPrefix"
						}
					]
				},
				"id": "assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0",
				"type": "assignmentNode",
				"position": {
					"x": 550,
					"y": 200
				},
				"previousNodeId": "logNode-02632731-c36c-48ea-b162-a4f59db182c2"
			},
			"type": "assignmentNode",
			"id": "assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0",
			"position": {
				"x": 550,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "debug",
					"hasComment": true,
					"comment": "",
					"logMessage": "\"oauth configurations parsed successfully \" oauthParams",
					"logLevel": "debug"
				},
				"id": "logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b",
				"type": "logNode",
				"position": {
					"x": 800,
					"y": 200
				},
				"previousNodeId": "assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0"
			},
			"type": "logNode",
			"id": "logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b",
			"position": {
				"x": 800,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "fluent-mdl2:trigger-approval",
					"displayName": "",
					"hasComment": true,
					"comment": "call agama-openid authentication for Hello SaaS service",
					"flowFileName": "org.gluu.inbound.oauth2.AuthzCodeWithUserInfo",
					"arguments": [
						"oauthParams"
					],
					"asssignedVariableName": "authResult",
					"exceptionVariableField": "e"
				},
				"id": "triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba",
				"type": "triggerNode",
				"position": {
					"x": 1050,
					"y": 200
				},
				"previousNodeId": "logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b"
			},
			"type": "triggerNode",
			"id": "triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba",
			"position": {
				"x": 1050,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"hasComment": true,
					"comment": "check if authentication is successful",
					"conditions": [
						{
							"variable": "authResult",
							"operator": "is not",
							"dataValue": "null",
							"combinator": "and"
						},
						{
							"variable": "authResult.success",
							"operator": "is",
							"dataValue": "true",
							"combinator": "none"
						}
					]
				},
				"id": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
				"type": "whenNode",
				"position": {
					"x": 1300,
					"y": 200
				},
				"previousNodeId": "triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba"
			},
			"type": "whenNode",
			"id": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
			"position": {
				"x": 1300,
				"y": 200
			},
			"measured": {
				"width": 110,
				"height": 60
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:equal",
					"displayName": "",
					"hasComment": true,
					"comment": "assigned user data received from agama-openid flow",
					"assignments": [
						{
							"variableTypeCheck": false,
							"assignmentExpression": "authResult.data.profile",
							"assignedVariableName": "profile"
						},
						{
							"variableTypeCheck": false,
							"assignmentExpression": "authResult.data.tokenResponse",
							"assignedVariableName": "token"
						}
					]
				},
				"id": "assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74",
				"type": "assignmentNode",
				"position": {
					"x": 1550,
					"y": 450
				},
				"previousNodeId": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
				"branching": "success"
			},
			"type": "assignmentNode",
			"id": "assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74",
			"position": {
				"x": 1550,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:code",
					"displayName": "",
					"hasComment": true,
					"comment": "Verify and add user to Jans Server",
					"javaClassName": "io.jans.inbound.UserOnboardHelper",
					"javaMethodName": "exec",
					"javaVariableName": "",
					"exceptionVariableField": "",
					"callType": "Call static method",
					"arguments": [
						"uidPrefix",
						"profile"
					],
					"asssignedVariableName": "uid"
				},
				"id": "callNode-07dd29bd-ce52-4481-b390-04bff2556970",
				"type": "callNode",
				"position": {
					"x": 1800,
					"y": 450
				},
				"previousNodeId": "assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74"
			},
			"type": "callNode",
			"id": "callNode-07dd29bd-ce52-4481-b390-04bff2556970",
			"position": {
				"x": 1800,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "",
					"hasComment": true,
					"comment": "",
					"logMessage": "\"[agama-hello] user login successfully with \" uid ",
					"logLevel": "info"
				},
				"id": "logNode-f598430a-36dc-40af-b687-8707f1e29d45",
				"type": "logNode",
				"position": {
					"x": 2050,
					"y": 450
				},
				"previousNodeId": "callNode-07dd29bd-ce52-4481-b390-04bff2556970"
			},
			"type": "logNode",
			"id": "logNode-f598430a-36dc-40af-b687-8707f1e29d45",
			"position": {
				"x": 2050,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"hasComment": true,
					"comment": "",
					"returnVariable": "uid",
					"finishMode": "withVariable"
				},
				"id": "finishNode-16fd114f-99b9-40b9-911c-91d88b8ff66f",
				"type": "finishNode",
				"position": {
					"x": 2300,
					"y": 450
				},
				"previousNodeId": "logNode-f598430a-36dc-40af-b687-8707f1e29d45"
			},
			"type": "finishNode",
			"id": "finishNode-16fd114f-99b9-40b9-911c-91d88b8ff66f",
			"position": {
				"x": 2300,
				"y": 450
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "octicon:log-16",
					"displayName": "",
					"hasComment": true,
					"comment": "",
					"logMessage": "\"[agama-hello] \" e",
					"logLevel": "error"
				},
				"id": "logNode-d6cccc54-3138-477d-b169-9c6ff8e02569",
				"type": "logNode",
				"position": {
					"x": 1550,
					"y": 200
				},
				"previousNodeId": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
				"branching": "continue"
			},
			"type": "logNode",
			"id": "logNode-d6cccc54-3138-477d-b169-9c6ff8e02569",
			"position": {
				"x": 1550,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		},
		{
			"data": {
				"agamaData": {
					"nodeIcon": "material-symbols:line-end-square-rounded",
					"hasComment": true,
					"comment": "",
					"returnVariable": "e",
					"finishMode": "withVariable"
				},
				"id": "finishNode-5f4d61ba-67fd-4021-a05a-db199d627617",
				"type": "finishNode",
				"position": {
					"x": 1800,
					"y": 200
				},
				"previousNodeId": "logNode-d6cccc54-3138-477d-b169-9c6ff8e02569"
			},
			"type": "finishNode",
			"id": "finishNode-5f4d61ba-67fd-4021-a05a-db199d627617",
			"position": {
				"x": 1800,
				"y": 200
			},
			"measured": {
				"width": 170,
				"height": 124
			}
		}
	],
	"edges": [
		{
			"id": "startNode-75711b40-d005-4094-8de2-51c69f2e8fac-logNode-02632731-c36c-48ea-b162-a4f59db182c2",
			"type": "default",
			"source": "startNode-75711b40-d005-4094-8de2-51c69f2e8fac",
			"target": "logNode-02632731-c36c-48ea-b162-a4f59db182c2",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_startNode-75711b40-d005-4094-8de2-51c69f2e8fac"
		},
		{
			"id": "logNode-02632731-c36c-48ea-b162-a4f59db182c2-assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0",
			"type": "default",
			"source": "logNode-02632731-c36c-48ea-b162-a4f59db182c2",
			"target": "assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-02632731-c36c-48ea-b162-a4f59db182c2"
		},
		{
			"id": "assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0-logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b",
			"type": "default",
			"source": "assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0",
			"target": "logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_assignmentNode-4c42bb68-480e-4645-a33b-6dba31494af0"
		},
		{
			"id": "logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b-triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba",
			"type": "default",
			"source": "logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b",
			"target": "triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-5815a4f8-39d8-47d2-9bca-2bd2672a964b"
		},
		{
			"id": "triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba-whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
			"type": "default",
			"source": "triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba",
			"target": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_triggerNode-3541ca70-cfc1-4268-9a0e-42d6bd1b3eba"
		},
		{
			"id": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9-assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74",
			"type": "default",
			"source": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
			"target": "assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "Condition met",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9_success"
		},
		{
			"id": "assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74-callNode-07dd29bd-ce52-4481-b390-04bff2556970",
			"type": "default",
			"source": "assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74",
			"target": "callNode-07dd29bd-ce52-4481-b390-04bff2556970",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_assignmentNode-cb598b5b-1188-4c93-bab6-f8c1d5f7ab74"
		},
		{
			"id": "callNode-07dd29bd-ce52-4481-b390-04bff2556970-logNode-f598430a-36dc-40af-b687-8707f1e29d45",
			"type": "default",
			"source": "callNode-07dd29bd-ce52-4481-b390-04bff2556970",
			"target": "logNode-f598430a-36dc-40af-b687-8707f1e29d45",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_callNode-07dd29bd-ce52-4481-b390-04bff2556970"
		},
		{
			"id": "logNode-f598430a-36dc-40af-b687-8707f1e29d45-finishNode-16fd114f-99b9-40b9-911c-91d88b8ff66f",
			"type": "default",
			"source": "logNode-f598430a-36dc-40af-b687-8707f1e29d45",
			"target": "finishNode-16fd114f-99b9-40b9-911c-91d88b8ff66f",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-f598430a-36dc-40af-b687-8707f1e29d45"
		},
		{
			"id": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9-logNode-d6cccc54-3138-477d-b169-9c6ff8e02569",
			"type": "default",
			"source": "whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9",
			"target": "logNode-d6cccc54-3138-477d-b169-9c6ff8e02569",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "continue",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_whenNode-9145b40f-23d2-4a09-bf8b-111d7d417dd9_continue"
		},
		{
			"id": "logNode-d6cccc54-3138-477d-b169-9c6ff8e02569-finishNode-5f4d61ba-67fd-4021-a05a-db199d627617",
			"type": "default",
			"source": "logNode-d6cccc54-3138-477d-b169-9c6ff8e02569",
			"target": "finishNode-5f4d61ba-67fd-4021-a05a-db199d627617",
			"labelBgPadding": [
				8,
				4
			],
			"labelBgBorderRadius": 4,
			"label": "",
			"labelBgStyle": {
				"fill": "#009688",
				"color": "#ffffff",
				"fillOpacity": 0.7
			},
			"labelShowBg": true,
			"sourceHandle": "source_logNode-d6cccc54-3138-477d-b169-9c6ff8e02569"
		}
	],
	"viewport": {
		"x": 22.46169794557295,
		"y": 75.21343386062597,
		"zoom": 0.5
	}
}